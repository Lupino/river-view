<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3>river-view 1.0.0</h3>










    




    <section>
        <article><h1>River View <a href="https://travis-ci.org/nupic-community/river-view"><img src="https://travis-ci.org/nupic-community/river-view.svg" alt="Build Status"></a> <a href="https://coveralls.io/github/nupic-community/river-view?branch=master"><img src="https://coveralls.io/repos/nupic-community/river-view/badge.svg?branch=master&amp;service=github" alt="Coverage Status"></a> <a href="https://gitter.im/nupic-community/river-view?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge"><img src="https://badges.gitter.im/Join%20Chat.svg" alt="Join the chat at https://gitter.im/nupic-community/river-view"></a></h1><blockquote>
<p>Public Temporal Streaming Data Service Framework</p>
</blockquote>
<p><a href="http://data.numenta.org"><img src="https://raw.githubusercontent.com/nupic-community/river-view/master/site/images/river-view.jpg" alt="A View of the Mississippi River"></a></p>
<p><a href="http://data.numenta.org">See <strong>River View</strong> in action â¤¤</a></p>
<p><em><strong>River View</strong></em> is a <em>Public Temporal Streaming Data Service Framework</em> (yes, that's a mouthful!). It provides a pluggable interface for users to expose temporal data streams in a time-boxed format that is easily query-able. It was built to provide a longer-lasting historical window for public data sources that provide only real-time data snapshots, especially for sensor data from public government services like weather, traffic, and geological data.</p>
<p><em>River View</em> fetches data from user-defined <a href="#Rivers"><em>Rivers</em></a> at regular intervals, populating a local <a href="http://redis.io">Redis</a> database. This data is provided in a windowed format, so that data older than a certain configured age is lost. But the window should be large enough to provide enough historical data to potentially train machine intelligence models on the data patterns within it.</p>
<h2>Dependencies</h2><ul>
<li><a href="http://redis.io">Redis</a></li>
</ul>
<p>You must have a Redis instance available. The URL to the instance should be set in an environment variable called <code>REDIS_URL</code>, something like:</p>
<pre class="prettyprint source"><code>export REDIS_URL=redis://127.0.0.1:6379</code></pre><p>You may use authentication in the Redis URL string:</p>
<pre class="prettyprint source"><code>export REDIS_URL=redis://username:password@hostname:port</code></pre><h2>Rivers</h2><p>A <em><strong>River</strong></em> is a pluggable public data stream gathered from one or more origins and collected in a query-able temporary temporal pool. <em>Rivers</em> are declared within the <a href="rivers"><code>rivers</code></a> directory, and consist of:</p>
<ul>
<li>a namespace, which is assumed based upon the directory name of the data source within the <a href="rivers"><code>rivers</code></a> directory</li>
<li>a YAML configuration file, containing:<ul>
<li>one or more external URLs where the data is collected, which are public and accessible without authentication</li>
<li>the interval at which the data source will be queried</li>
<li>when the data should expire</li>
</ul>
</li>
<li>a JavaScript parser module that is passed the body of an HTTP call to the aforementioned URL(s), which is expected to parse it and return a temporal object representation of the data.</li>
</ul>
<p>Each <em>River</em> may produce data for many unique data items, but they must have unique identifiers. For example, a city traffic data source may produce data for many traffic paths within the city, each identified with a unique ID. A US state water level data source might have unique sources for each water level sensor in the state, each with a unique ID.</p>
<h3>River Types</h3><p>All river streams must have a timestamp for each row of data. Other than that, they might have different primary types of data, as described below:</p>
<ul>
<li><em>spacial</em>: integer or float values</li>
<li><em>geospatial</em>: latitude / longitude (floats)</li>
<li><em>categorical</em>: string values</li>
</ul>
<p>The data streams will be presented differently, both in JSON and HTML, depending on the type specified in the <code>config.yml</code> file.</p>
<h3>Creating a River</h3><p>Please see <a href="https://github.com/nupic-community/river-view/wiki/Creating-a-River">Creating a River</a> in our wiki.</p>
<h2>Web Services</h2><p>In addition to collecting and storing data from <em>Rivers</em>, a simple HTTP API for reading the data is also active on startup. It returns HTML, JSON, and (in some cases) CSV data for each <em>River</em> configured at startup.</p>
<h3>URLs</h3><table>
<thead>
<tr>
<th>URL</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>`/index.[html</td>
<td>json]`</td>
<td>Current <em>Rivers</em> active in <strong>River View</strong></td>
</tr>
<tr>
<td>`/<river-name>/props.[html</td>
<td>json]`</td>
<td>Detailed information about a <em>river</em>, including the URL to the river's keys</td>
</tr>
<tr>
<td>`/<river-name>/keys.[html</td>
<td>json]`</td>
<td>All unique ids for data within <em>river</em></td>
</tr>
<tr>
<td>`/<river-name>/<id>/data.[html</td>
<td>json</td>
<td>csv]`</td>
<td>All data for specified key</td>
</tr>
<tr>
<td>`/<river-name>/<id>/meta.[html</td>
<td>json]`</td>
<td>All metadata for specified key</td>
</tr>
</tbody>
</table>
<h3>Running Locally (on OS X)</h3><p>OS X has some weird built in behaviors regarding the maximum number of open file descriptors. River-view
needs the system to handle around 1024 open descriptors to actually start up, so if you run into any sort of
<em>file-can't-be-opened</em> errors, check that you have an appropriate number of maximum open file descriptors by
running <code>ulimit -n</code>. If this number is less than 1024, you'll need to update it.</p>
<h2>Updating the maximum number of open file descriptors</h2><ul>
<li><code>sudo launchctl limit maxfiles 1024 unlimited</code></li>
</ul>
<p>This updates the maximum number of open file descriptors your Mac will allow. This number is not persistant across reboots. To make it persistant add <code>limit maxfiles 1024 unlimited</code> to <code>/etc/launchd.conf</code></p>
<ul>
<li><code>ulimit -n 1024</code> </li>
</ul>
<p>This updates the current shell you're in to be able to make use of all those file descriptors. </p></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-index.html">index</a></li><li><a href="module-lib_.html">lib/</a></li><li><a href="module-lib_data-server.html">lib/data-server</a></li><li><a href="module-lib_river-factory.html">lib/river-factory</a></li><li><a href="module-lib_site-builder.html">lib/site-builder</a></li><li><a href="module-lib_templates.html">lib/templates</a></li></ul><h3>Classes</h3><ul><li><a href="Lockmaster.html">Lockmaster</a></li><li><a href="RedisClient.html">RedisClient</a></li><li><a href="River.html">River</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.2</a> on Thu Jul 16 2015 23:04:19 GMT-0700 (PDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>